<!DOCTYPE html>
<html lang="zh-Hant">
    <head>
        
        <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer','GTM-K2VQTGFM');</script>
        

        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>刪除帳號 - Meow Yourself</title>
        <style>
            @import url(https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@400;500;700&display=swap);
            body {
                margin: 0;
                padding: 0;
                font-family: "Noto Sans TC", "PingFang TC", "Microsoft JhengHei", sans-serif;
                background: linear-gradient(160deg, #f8ebe2, #f2d4c5);
                min-height: 100vh;
                color: #4b2f24;
            }
            .container {
                max-width: 600px;
                margin: 0 auto;
                padding: 24px;
            }
            .card {
                background: #fffaf6;
                border-radius: 24px;
                padding: 32px;
                box-shadow: 0 20px 40px rgba(90, 60, 45, 0.15);
            }
            h1 {
                font-size: 28px;
                margin-bottom: 8px;
                text-align: center;
            }
            p.description {
                text-align: center;
                color: #7c5b4a;
                margin-bottom: 24px;
            }
            form {
                display: flex;
                flex-direction: column;
                gap: 16px;
            }
            label {
                font-weight: 600;
                color: #4b2f24;
            }
            input[type="password"] {
                width: 100%;
                padding: 12px;
                border-radius: 12px;
                border: 1px solid #e0cfc4;
                background: #fff;
                font-size: 16px;
            }
            .confirm-row {
                display: flex;
                align-items: center;
                gap: 8px;
                font-size: 14px;
                color: #7c5b4a;
            }
            .actions {
                display: flex;
                gap: 12px;
                flex-wrap: wrap;
                margin-top: 16px;
            }
            .btn {
                flex: 1;
                padding: 12px;
                border-radius: 9999px;
                border: none;
                cursor: pointer;
                font-size: 16px;
                font-weight: 600;
            }
            .btn-danger {
                background: #f87171;
                color: white;
            }
            .btn-secondary {
                background: #e5e7eb;
                color: #374151;
                text-decoration: none;
                text-align: center;
            }
            .flash {
                padding: 10px 16px;
                border-radius: 12px;
                margin-bottom: 12px;
                background: #fee2e2;
                color: #b91c1c;
                text-align: center;
            }
            .flash.success {
                background: #dcfce7;
                color: #15803d;
            }
        
        body {
            font-family: 'Noto Serif TC', 'Source Han Serif TC', 'Songti TC', serif;
            font-size: 16px;
            line-height: 1.7;
            color: #2f2a25;
            background-color: #f6f5f3;
            background-image: linear-gradient(160deg, #f6f5f3 0%, #faf9f7 45%, #fdfbf8 100%);
        }
        #webcrumbs .warm-shell,
        .warm-shell {
            background: linear-gradient(180deg, #fdfbf8 0%, #f6f5f3 60%, #faf9f7 100%);
        }
        #webcrumbs .warm-surface,
        .warm-surface {
            background: linear-gradient(160deg, rgba(253, 251, 248, 0.95) 0%, rgba(246, 245, 243, 0.95) 100%);
        }

        #webcrumbs .warm-cta,
        #webcrumbs .warm-cta-main,
        .warm-cta,
        .warm-cta-main,
        .btn-primary,
        .cta-button,
        #brand-intro-enter-btn,
        #generate-card-button {
            background: linear-gradient(135deg, #f4d7c3 0%, #e8c3ad 100%);
            color: #5b4032;
            border: 1px solid rgba(205, 175, 154, 0.6);
        }
        #webcrumbs .warm-cta:hover,
        #webcrumbs .warm-cta-main:hover,
        .warm-cta:hover,
        .warm-cta-main:hover,
        .btn-primary:hover,
        .cta-button:hover,
        #brand-intro-enter-btn:hover,
        #generate-card-button:hover {
            background: linear-gradient(135deg, #ebcdb7 0%, #dfb49a 100%);
            color: #4b3326;
        }
        #webcrumbs .font-sans,
        .font-sans {
            font-family: 'Noto Serif TC', 'Source Han Serif TC', 'Songti TC', serif;
        }

    </style>
    </head>
    <body>
        
        <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-K2VQTGFM"
        height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
        

        <div class="container">
            <div class="card">
                <h1>刪除帳號</h1>
                <p class="description">帳號刪除後，所有資料（健康報告、心理測驗等）都會永久移除，且無法復原。</p>

                {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                {% for category, message in messages %}
                <div class="flash {% if category == 'success' %}success{% endif %}">{{ message }}</div>
                {% endfor %}
                {% endif %}
                {% endwith %}

                <form method="POST" action="{{ url_for('delete_account') }}">
                    <div>
                        <label>電子郵件</label>
                        <p>{{ user_email or '（未知）' }}</p>
                    </div>
                    <div>
                        <label for="password">請輸入密碼以確認刪除</label>
                        <input type="password" id="password" name="password" required />
                    </div>
                    <label class="confirm-row">
                        <input type="checkbox" name="confirm_delete" value="yes" required />
                        我了解帳號刪除後無法復原，並願意刪除所有資料。
                    </label>
                    <div class="actions">
                        <button type="submit" class="btn btn-danger">刪除帳號</button>
                        <a href="{{ url_for('home') }}" class="btn btn-secondary">取消</a>
                    </div>
                </form>
            </div>
        </div>
    </body>
</html>
